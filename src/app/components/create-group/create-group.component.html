<div class="contenido">
  <div class="other-navbar">
    <app-navbar></app-navbar>
  </div>

<div class="creacion-div">
  <div class="creacion-grupo">
    <h1> {{ 'CREATE_GROUP' | translate }}</h1>

    <div *ngIf="paso === 1">
      <h3>{{"STEP_1"|translate}}</h3>
     <div class="info">
      <span>{{"GRUPO_INSTRUCCIONES"|translate}}</span>
     </div>
      <form class="paso-1">
        <mat-form-field>
          <mat-label>{{"GROUP_TITLE"|translate}}</mat-label>
          <input matInput [(ngModel)]="tituloGrupo" (keyup)="check()" name="tituloGrupo" [placeholder]="'PLACEHOLDERS.GROUP_TITLE_PLACEHOLDER'|translate" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{"GROUP_DESCRIPTION"|translate}}</mat-label>
          <textarea matInput [(ngModel)]="descripcionGrupo" (keyup)="check()" name="descripcionGrupo" [placeholder]="'PLACEHOLDERS.GROUP_DESCRIPTION_PLACEHOLDER'|translate"
            required></textarea>
        </mat-form-field>
      </form>
      <div class="botones">
        <!-- BotÃ³n para avanzar al siguiente paso -->
        <button (click)="avanzarPaso()" class="siguiente" [disabled]="!comprobados">{{"NEXT"|translate}}</button>
      </div>
    </div>

    <div *ngIf="paso === 2">
      <h3>{{"STEP_2"|translate}}</h3>
      <form>
        <div *ngIf="imagenSeleccionada" class="imagen">
          <img [src]="imagenSeleccionada" alt="Imagen seleccionada" class="preview">
        </div>
        <input type="file" #fileInput (change)="onFileSelected($event)">
        <br>
        <div *ngIf="!selectedFile">
          <span><small>{{"SELECT_IMAGE"|translate}}</small></span>
        </div>
      </form>
      <div class="botones">
        <button (click)="retrocederPaso()" class="anterior">Anterior</button>
        <button (click)="crearGrupo()" class="siguiente" [disabled]="!imagenSeleccionada">{{"CREATE"|translate}}</button>
      </div>
    </div>

  </div>
 <div class="preview-grupo">
  <div class="scroll" (click)="scrollToGrupo()" [title]="'BAJAR'|translate"><i class="fa-solid fa-arrow-down"></i></div>

  <div class="grupo" #grupoElement>
    <h3>{{"PREVIEW"|translate}}</h3>

    <article>
      <div class="article-wrapper">
        <figure>
          <img [src]="imagenSeleccionada" alt="" />
        </figure>

        <div class="article-body">

        @if(tituloGrupo && descripcionGrupo){
          <h2>{{tituloGrupo}}</h2>
          <p>
            {{descripcionGrupo}}
          </p>
        }@else {
           <h2>{{tituloEjemplo}}</h2>
        <p>
          {{descripcionEjemplo}}
        </p>
      }

        </div>

      </div>
    </article>
  </div>
 </div>
</div>

</div>
