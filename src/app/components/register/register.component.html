<main class="container rounded-1 ">

  <div class="formulario bg-white  p-5 ">
    <h1 class="text-center text-black">Registro</h1>
    <form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm.value)" #form="ngForm">
      <div class="d-flex gap-1 gap-md-3">
        <input type="text" placeholder="Name" formControlName="name" class="rounded-1 w-100" required>
        <!-- Mostrar errores del campo Name -->
        <br>

        <input type="text" placeholder="LastName" formControlName="lastname" class="rounded-1 w-100" required>
        <!-- Mostrar errores del campo Lastname -->

      </div>
      <div class="row">
        <div class="col">
          <div *ngIf="myForm.get('name')?.invalid && myForm.get('name')?.touched">
            <small *ngIf="myForm.get('name')?.errors?.['required']">El nombre es obligatorio.</small>
          </div>

        </div>
        <div class="col">
          <div *ngIf="myForm.get('lastname')?.invalid && myForm.get('lastname')?.touched">
            <small *ngIf="myForm.get('lastname')?.errors?.['required']">El apellido es obligatorio.</small>
          </div>
        </div>
      </div>
      <div class="d-flex gap-1 gap-md-3">
        <div class="row"> <!-- Envolver los inputs en un div.row -->
          <div class="col-md-6">
            <input type="text" placeholder="Username" (blur)="checkUsername()" formControlName="username"
              class="rounded-1 w-100" required>
            <!-- Mostrar errores del campo Username -->
            <div *ngIf="myForm.get('username')?.invalid && myForm.get('username')?.touched">
              <small *ngIf="myForm.get('username')?.errors?.['required']">El nombre de usuario es obligatorio.</small>
              <small *ngIf="myForm.get('username')?.errors?.['taken']">El nombre de usuario ya está en uso.</small>
            </div>
          </div>
          <div class="col-md-6">
            <input type="date" placeholder="Age" formControlName="age" class="rounded-1 w-100" min="16">
          </div>
        </div> <!-- Cierre del div.row -->
      </div>

      <input type="text" placeholder="Email" (blur)="checkEmail()" formControlName="email" class="rounded-1 w-100"
        required autocomplete>
      <!-- Mostrar errores del campo Email -->
      <div *ngIf="myForm.get('email')?.invalid && myForm.get('email')?.touched">
        <small *ngIf="myForm.get('email')?.errors?.['required']">El correo electrónico es obligatorio.</small>
        <small *ngIf="myForm.get('email')?.errors?.['email']">El correo electrónico no es válido.</small>
        <small *ngIf="myForm.get('email')?.errors?.['taken']">El correo electrónico ya está en uso.</small>
      </div>
      <input type="checkbox" formControlName="coach" id="coach">
      <label for="coach">Registrarse como coach</label>
      <input type="password" placeholder="Contraseña" formControlName="password" class="rounded-1" required
        autocomplete="current-password">
      <!-- Mostrar errores del campo Password -->
      <div *ngIf="myForm.get('password')?.invalid && myForm.get('password')?.touched">
        <small *ngIf="myForm.get('password')?.errors?.['required']">La contraseña es obligatoria.</small>
      </div>

      <input type="submit" class="rounded-1" />
    </form>



  </div>

  <div class="contenedor-right d-grid align-content-center  order-xl-2 ">
    <h1 class="text-center fs-3 ">¿Ya nos conoces y </h1>
    <h5 class="text-center mb-2">tienes una cuenta?</h5>
    <button class="d-grid w-50 mx-auto p-2 rounded-1 register"><a href="/login"> <span>Iniciar
          sesión</span></a></button>
  </div>


</main>



<app-spinner [loading]="showSpinner"></app-spinner>
